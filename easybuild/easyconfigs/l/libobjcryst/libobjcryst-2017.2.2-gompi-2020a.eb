easyblock = 'SCons'

name = 'libobjcryst'
version = '2017.2.2'

homepage = 'https://github.com/diffpy/libobjcryst'
description = "ObjCryst++ is Object-Oriented Crystallographic Library for C++"

toolchain = {'name': 'gompi', 'version': '2020a'}

source_urls = ['https://github.com/diffpy/libobjcryst/releases/download/v%(version)s/']
sources = ['libobjcryst-%(version)s.tar.gz']
checksums = ['ad57f4667f6d0b8f0de67a01ecda8e4e09fd0317bf2e0866a4a987b48201583c']

builddependencies = [
    ('SCons', '3.1.2'),
]
dependencies = [
    ('Boost', '1.72.0'),
]

local_common_opts = 'env_vars=all CC="$CC" CXX="$CXX" cc_flags="$CFLAGS" cxx_flags="$CXXFLAGS" '
buildopts = 'build ' + local_common_opts
installopts = 'install ' + local_common_opts
prefix_arg = 'prefix='

sanity_check_paths = {
    'files': ['lib/libObjCryst.%s' % SHLIB_EXT],
    'dirs': ['include/ObjCryst'],
}

moduleclass = 'chem'
