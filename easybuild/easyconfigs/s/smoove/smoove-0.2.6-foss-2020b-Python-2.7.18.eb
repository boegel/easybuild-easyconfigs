easyblock = 'Binary'

name = 'smoove'
version = '0.2.6'
versionsuffix = '-Python-2.7.18'

homepage = 'https://github.com/brentp/gsort'
description = "gsort is a tool to sort genomic files according to a genomefile"

toolchain = {'name': 'foss', 'version': '2020b'}

source_urls = ['https://github.com/brentp/smoove/releases/download/v%(version)s']
sources = [{'download_filename': 'smoove', 'filename': 'smoove-%(version)s'}]
checksums = ['71e6eb5af1c5e791264dd7d8861eee1fe7b4bf01096186cff215b996120ccf11']

dependencies = [
    ('BCFtools', '1.11'),
    ('HTSlib', '1.11'),
    ('SAMtools', '1.11'),
    ('gsort', '0.1.4', '', True),
    ('LUMPY', '0.3.1', versionsuffix),
    ('mosdepth', '0.3.1'),
    ('SVTyper', '0.7.1', versionsuffix),
    ('svtools', '0.5.1', versionsuffix),
    #FIXME ('duphold', '0.2.3'),
]

install_cmd = "mkdir -p %(installdir)s/bin && cp -a smoove-%(version)s %(installdir)s/bin/smoove"

sanity_check_paths = {
    'files': ['bin/smoove'],
    'dirs': [],
}

sanity_check_commands = ["smoove --help"]

moduleclass = 'bio'
