easyblock = 'PythonBundle'

name = 'EUKulele'
version = '1.0.4'

homepage = 'https://github.com/AlexanderLabWHOI/EUKulele'
description = """EUKulele is a Python program for taxonomic annotation of microbes in metatranscriptomic and
 metagenomic samples, with special emphasis on eukaryote discovery."""

toolchain = {'name': 'foss', 'version': '2020b'}

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),
    ('Biopython', '1.78'),
    ('matplotlib', '3.3.3'),
    ('PyYAML', '5.3.1'),
    ('Seaborn', '0.11.1'),
    ('BLAST+', '2.11.0'),
    ('BUSCO', '4.1.2'),
    ('DIAMOND', '2.0.7'),
    ('TransDecoder', '5.5.0'),
]

use_pip = True

exts_default_options = {'source_urls': [PYPI_SOURCE]}

exts_list = [
    ('dill', '0.3.3', {
        'source_tmpl': 'dill-%(version)s.zip',
        'checksums': ['efb7f6cb65dba7087c1e111bb5390291ba3616741f96840bfc75792a1a9b5ded'],
    }),
    ('multiprocess', '0.70.11.1', {
        'source_tmpl': 'multiprocess-%(version)s.zip',
        'checksums': ['9d5e417f3ebce4d027a3c900995840f167f316d9f73c0a7a1fbb4ac0116298d0'],
    }),
    ('pytest-cov', '2.11.1', {
        'checksums': ['359952d9d39b9f822d9d29324483e7ba04a3a17dd7d05aa6beb7ea01e359e5f7'],
    }),
    ('apipkg', '1.5', {
        'checksums': ['37228cda29411948b422fae072f57e31d3396d2ee1c9783775980ee9c9990af6'],
    }),
    ('execnet', '1.8.0', {
        'checksums': ['b73c5565e517f24b62dea8a5ceac178c661c4309d3aa0c3e420856c072c411b4'],
    }),
    ('pytest-forked', '1.3.0', {
        'checksums': ['6aa9ac7e00ad1a539c41bec6d21011332de671e938c7637378ec9710204e37ca'],
    }),
    ('pytest-xdist', '2.2.1', {
        'checksums': ['718887296892f92683f6a51f25a3ae584993b06f7076ce1e1fd482e59a8220a2'],
        'modulename': 'xdist',
    }),
    ('coverage', '5.4', {
        'checksums': ['6d2e262e5e8da6fa56e774fb8e2643417351427604c2b177f8e8c5f75fc928ca'],
    }),
    ('python-coveralls', '2.9.3', {
        'checksums': ['bfaf7811e7dc5628e83b6b162962a4e2485dbff184b30e49f380374ed1bcee55'],
        'modulename': 'coveralls',
    }),
    ('latexcodec', '2.0.1', {
        'checksums': ['2aa2551c373261cefe2ad3a8953a6d6533e68238d180eb4bb91d7964adb3fe9a'],
    }),
    ('pybtex', '0.24.0', {
        'checksums': ['818eae35b61733e5c007c3fcd2cfb75ed1bc8b4173c1f70b56cc4c0802d34755'],
    }),
    ('oset', '0.1.3', {
        'checksums': ['4c1fd7dec96eeff9d3260995a8e37f9f415d0bdb79975f57824e68716ac8f904'],
    }),
    ('pybtex-docutils', '1.0.0', {
        'checksums': ['cead6554b4af99c287dd29f38b1fa152c9542f56a51cb6cbc3997c95b2725b2e'],
    }),
    ('sphinxcontrib-bibtex', '1.0.0', {
        'checksums': ['629612b001f86784669d65e662377a482052decfd9a0a17c46860878eef7b9e0'],
        'modulename': 'sphinxcontrib.bibtex',
    }),
    (name, version, {
        'preinstallopts': "sed -i 's/argparse//g' requirements.txt && ",
        'checksums': ['5d83b12371e676797fd8c19abead81b6853f2924f0c9b979190a9aa734ab782c'],
        'modulename': name,
    }),
]

sanity_check_paths = {
    'files': ['bin/EUKulele'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ["EUKulele --help"]

sanity_pip_check = True

moduleclass = 'bio'
