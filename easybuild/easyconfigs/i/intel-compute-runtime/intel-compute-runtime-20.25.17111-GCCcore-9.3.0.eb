easyblock = 'CMakeMake'

name = 'intel-compute-runtime'
version = '20.25.17111'

homepage = 'https://github.com/intel/compute-runtime'
description = """The Intel(R) Graphics Compute Runtime for oneAPI Level Zero and OpenCL(TM) Driver is an
 open source project providing compute API support (Level Zero, OpenCL) for Intel graphics hardware architectures
  (HD Graphics, Xe)."""

toolchain = {'name': 'GCCcore', 'version': '9.3.0'}

source_urls = ['https://github.com/intel/compute-runtime/archive/']
sources = ['%(version)s.tar.gz']
checksums = ['062f6ce2a3aaaaaaf05c08e65be2a546e3e643301edb87cf90b195b0ea2f0ddf']

builddependencies = [
    ('binutils', '2.34'),
    ('CMake', '3.16.4'),
]

dependencies = [
    ('intel-gmmlib', '20.1.1'),
    ('intel-graphics-compiler', '1.0.4155'),
]

sanity_check_paths = {
    'files': ['lib64/libigdgmm.%s' % SHLIB_EXT],
    'dirs': ['include/igdgmm', 'lib64/pkgconfig'],
}

moduleclass = 'lib'
